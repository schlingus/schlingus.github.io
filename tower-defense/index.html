<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Schlingus Tower Defense</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bungee&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="title-active">
    <div class="page">
      <header class="hero">
        <div class="brand">
          <img class="brand-icon" src="images/towers/schlingus-body.png" alt="" />
          <div>
            <h1>Schlingus Tower Defense</h1>
            <p>Build the line. Hold the garden. Don&#39;t let the swarm breach the gates.</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat">
            <span class="label">Credits</span>
            <span class="value" id="money">$0</span>
          </div>
          <div class="stat">
            <span class="label">Lives</span>
            <span class="value" id="lives">0</span>
          </div>
          <div class="stat">
            <span class="label">Wave</span>
            <span class="value" id="wave">0</span>
          </div>
        </div>
      </header>

      <main class="game-wrap">
        <aside class="panel left-panel">
          <div class="panel-section">
            <h2>Build</h2>
            <div class="tower-list" id="towerList">
              <button class="tower-card" data-tower="schlingus">
                <img src="images/towers/schlingus-body.png" alt="Schlingus" />
                <div>
                  <div class="tower-name">Schlingus</div>
                  <div class="tower-meta">$90 · Cheap starter</div>
                </div>
              </button>
              <button class="tower-card" data-tower="turking">
                <img src="images/towers/turking.png" alt="Turking" />
                <div>
                  <div class="tower-name">Turking</div>
                  <div class="tower-meta">$170 · Balanced shots</div>
                </div>
              </button>
              <button class="tower-card" data-tower="pickleguy">
                <img src="images/towers/pickleguy.png" alt="Pickleguy" />
                <div>
                  <div class="tower-name">Pickleguy</div>
                  <div class="tower-meta">$230 · Heavy hits</div>
                </div>
              </button>
              <button class="tower-card" data-tower="tankman48">
                <img src="images/towers/tankman48.png" alt="tankman48" />
                <div>
                  <div class="tower-name">tankman48</div>
                  <div class="tower-meta">$260 · Bomb cannon</div>
                </div>
              </button>
              <button class="tower-card" data-tower="oven">
                <img src="images/towers/oven.png" alt="oven" />
                <div>
                  <div class="tower-name">oven</div>
                  <div class="tower-meta">$180 · Burn damage</div>
                </div>
              </button>
              <button class="tower-card" data-tower="floppywaffle">
                <img src="images/towers/floppywaffle.png" alt="floppywaffle" />
                <div>
                  <div class="tower-name">floppywaffle</div>
                  <div class="tower-meta">$210 · Slows enemies</div>
                </div>
              </button>
              <button class="tower-card" data-tower="caelum">
                <img src="images/towers/caelum.png" alt="caelum" />
                <div>
                  <div class="tower-name">caelum</div>
                  <div class="tower-meta">$250 · Clover traps</div>
                </div>
              </button>
              <button class="tower-card" data-tower="infernus-knockoff">
                <img src="images/towers/infernus-knockoff.png" alt="infernus-knockoff"/>
                <div>
                  <div class="tower-name">infernus</div>
                  <div class="tower-meta">$320 · Long range</div>
                </div>
              </button>
              <button class="tower-card" data-tower="ducklord">
                <img src="images/towers/th_ducklord.png" alt="th_ducklord" />
                <div>
                  <div class="tower-name">th_ducklord</div>
                  <div class="tower-meta">$520 · Duck farm</div>
                </div>
              </button>
            </div>
            <div class="selected" id="selectedInfo">
              <div class="selected-top">
                <img id="selectedImage" src="images/towers/schlingus-body.png" alt="" />
                <div>
                  <div class="selected-name" id="selectedName">Schlingus</div>
                  <div class="selected-desc" id="selectedDesc">Low-cost starter with steady shots.</div>
                </div>
              </div>
              <div class="selected-stats">
                <div>
                  <span>Cost</span>
                  <strong id="selectedCost">$0</strong>
                </div>
                <div>
                  <span>Damage</span>
                  <strong id="selectedDamage">0</strong>
                </div>
                <div>
                  <span>Range</span>
                  <strong id="selectedRange">0</strong>
                </div>
                <div>
                  <span>Rate</span>
                  <strong id="selectedRate">0</strong>
                </div>
              </div>
            </div>
          </div>

          <div class="panel-section tips">
            <h2>How to play</h2>
            <ul>
              <li>Pick a tower, then click an empty tile to place it.</li>
              <li>Hold the path and focus fire near the bends.</li>
              <li>Click a placed tower to upgrade it.</li>
              <li>Start each wave when you feel ready.</li>
            </ul>
          </div>
        </aside>

        <section class="stage-wrap">
          <div class="stage">
            <canvas id="game" width="1200" height="675"></canvas>
            <div class="hint" id="hint">Click a tower, then click a tile to deploy.</div>
            <div class="overlay" id="overlay">
              <div class="overlay-card">
                <h2 id="overlayTitle">Game Over</h2>
                <p id="overlayText">The garden has fallen.</p>
                <button id="restart">Restart Run</button>
              </div>
            </div>
            <div class="overlay" id="freeplayOverlay">
              <div class="overlay-card">
                <h2>Freeplay</h2>
                <p>Do you want to enter freeplay? It gets harder forever.</p>
                <div class="overlay-actions">
                  <button id="freeplayYes">Start Freeplay</button>
                  <button id="freeplayNo">Not Yet</button>
                </div>
              </div>
            </div>
            <div class="loading" id="loading">Loading assets...</div>
          </div>
          <div class="control-bar">
            <div class="wave-info">
              <div class="wave-name" id="waveName">Wave 1: Garden Wake</div>
              <div class="wave-meta">
                <span id="waveCount">0 / 0</span>
                <span id="nextSpawn">Awaiting orders</span>
              </div>
            </div>
            <div class="controls">
              <button id="startWave">Start Wave</button>
              <button id="toggleSpeed">2x Speed</button>
              <button id="togglePause">Pause</button>
              <button id="toggleAutostart">Autostart: Off</button>
            </div>
          </div>
        </section>

        <aside class="panel right-panel">
          <div class="panel-section">
            <h2>Upgrades</h2>
            <div class="upgrade-info">
              <div class="upgrade-header">
                <div>
                  <div class="upgrade-title" id="upgradeTitle">No tower selected</div>
                  <div class="upgrade-meta" id="upgradeMeta">Click a placed tower to upgrade it.</div>
                </div>
                <button id="clearSelection" class="ghost" disabled>Clear Selection</button>
              </div>
              <div class="upgrade-grid">
                <div class="upgrade-path" data-path="0">
                  <div class="path-title" id="path0Title">Path 1</div>
                  <div class="path-desc" id="path0Desc">-</div>
                  <div class="path-tiers" id="path0Tiers">
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                  </div>
                  <button class="path-upgrade" data-path="0" disabled>Upgrade</button>
                </div>
                <div class="upgrade-path" data-path="1">
                  <div class="path-title" id="path1Title">Path 2</div>
                  <div class="path-desc" id="path1Desc">-</div>
                  <div class="path-tiers" id="path1Tiers">
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                  </div>
                  <button class="path-upgrade" data-path="1" disabled>Upgrade</button>
                </div>
                <div class="upgrade-path" data-path="2">
                  <div class="path-title" id="path2Title">Path 3</div>
                  <div class="path-desc" id="path2Desc">-</div>
                  <div class="path-tiers" id="path2Tiers">
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                    <span class="tier"></span>
                  </div>
                  <button class="path-upgrade" data-path="2" disabled>Upgrade</button>
                </div>
              </div>
              <button id="sellTower" class="danger" disabled>Sell Tower</button>
            </div>
          </div>
          <div class="panel-section debug-panel" id="debugPanel" hidden>
            <h2>Debug</h2>
            <div class="debug-controls">
              <button id="debugAddMoney">Add $1000</button>
              <button id="debugInfMoney">Infinite Money: Off</button>
              <button id="debugHitboxes">Hitboxes: Off</button>
            </div>
          </div>
        </aside>
      </main>
    </div>

    <div class="overlay active title-overlay" id="titleOverlay">
      <div class="overlay-card title-card">
        <h2>Schlingus Tower Defense</h2>
        <p>Build the line. Hold the garden. Don't let the swarm breach the gates.</p>
        <button id="startGame">Start Game</button>
      </div>
    </div>

    <div class="overlay map-overlay" id="mapOverlay">
      <div class="overlay-card map-card">
        <h2>Select Map</h2>
        <p>Choose the battlefield before the swarm arrives.</p>
        <div class="map-list">
          <button class="map-option" data-map="garden">
            <div class="map-thumb map-garden"></div>
            <div class="map-info">
              <div class="map-name">Garden Gate</div>
              <div class="map-desc">Classic winding path.</div>
            </div>
          </button>
          <button class="map-option" data-map="orchard">
            <div class="map-thumb map-orchard"></div>
            <div class="map-info">
              <div class="map-name">Orchard Loop</div>
              <div class="map-desc">Long loop with heavy corners.</div>
            </div>
          </button>
          <button class="map-option" data-map="moonlit">
            <div class="map-thumb map-moonlit"></div>
            <div class="map-info">
              <div class="map-name">Moonlit Hedge</div>
              <div class="map-desc">Fast lanes and deep bends.</div>
            </div>
          </button>
        </div>
        <button id="backToTitle" class="ghost">Back</button>
      </div>
    </div>

    <script src="main.js" defer></script>
  </body>
</html>
